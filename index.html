<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>ì½”ì¼“ë°°ì†¡ - íƒ€ìê²Œì„</title>
  <style>
    /* ëª¨ë°”ì¼ ìµœì í™” ì „ì²´ ì„¤ì • */
    html, body {
      height: 100vh; width: 100vw; margin: 0; padding: 0;
      overflow: hidden; touch-action: none; -webkit-user-select: none; user-select: none;
      font-family: 'Arial', sans-serif;
      background: url('1.jpg') no-repeat center/cover;
    }
    button { cursor: pointer; }

    /* ì¸íŠ¸ë¡œ & ê²Œì„ì˜¤ë²„ */
    #introScreen, #gameOverScreen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(255,255,255,0.95);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      text-align: center; padding: 5vw; box-sizing: border-box; z-index: 2000;
    }
    #introScreen h1, #gameOverScreen h1 {
      font-size: 8vw; margin: 1vh 0; line-height: 1.2;
    }
    #introScreen p, #gameOverScreen p,
    #introScreen a, #gameOverScreen a {
      font-size: 4vw; margin: 1vh 0; color: #333;
      word-break: break-all;
    }
    #startBtn, #retryBtn {
      margin-top: 4vh; font-size: 5vw; padding: 3vw 5vw;
      background: #ff6b6b; color: #fff; border: none; border-radius: 2vw;
    }

    /* ê²Œì„ í™”ë©´ ìˆ¨ê¹€ */
    #gameArea, #info, #inputArea, #levelUp { visibility: hidden; }

    /* ê²Œì„ ì˜ì—­ */
    #gameArea {
      position: relative; width: 100%; height: 100%; overflow: hidden;
    }
    .word {
      position: absolute; /* left, top ì´ˆê¸°ê°’ì€ JSì—ì„œ ì„¤ì • */
      font-size: 5vw; padding: 1vw;
      background: rgba(255,255,255,0.8); border-radius: 1vw;
      will-change: left;
      animation: slide linear forwards;
    }
    @keyframes slide {
      /* ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì´ë™ */
      0% { left: 100%; }
      100% { left: -150px; }
    }

    /* ì •ë³´ í‘œì‹œ */
    #info {
      position: fixed;
      /* ë‘ ì¤„(â‰ˆ8vw) ë§Œí¼ ì•„ë˜ë¡œ ì´ë™ */
      top: calc(env(safe-area-inset-top,2vh) + 8vw);
      left: env(safe-area-inset-left,2vw);
      font-size: 4vw; color: #fff; background: rgba(0,0,0,0.3);
      padding: 1vw; border-radius: 1vw;
    }

    /* ë ˆë²¨ì—… í‘œì‹œ */
    #levelUp {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      font-size: 12vw; color: #fff; background: rgba(0,0,0,0.5);
      padding: 3vw 5vw; border-radius: 3vw; display: none; z-index: 1001;
    }

    /* ì…ë ¥ ì˜ì—­ ê³ ì • */
    #inputArea {
      position: fixed; bottom: env(safe-area-inset-bottom,5vh); width: 100%; text-align: center;
      background: rgba(0,0,0,0.2);
      padding: 2vh 0;
    }
    #inputForm {
      display: inline-block; width: 90vw; max-width: 500px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      border-radius: 2vw;
      background: #fff;
    }
    #userInput {
      width: 100%; font-size: 6vw; padding: 2vw;
      border: none; border-radius: 2vw;
      outline: none;
      autocorrect: off; autocapitalize: off; spellcheck: false;
    }

    /* ë°ìŠ¤í¬íƒ‘ ëŒ€ì‘ */
    @media (min-width: 768px) {
      .word { font-size: 24px; padding: 5px 10px; border-radius: 8px; }
      #userInput { font-size: 24px; padding: 10px; }
      #info { font-size: 18px; padding: 8px; }
      #levelUp { font-size: 48px; padding: 20px 40px; border-radius: 20px; }
      #introScreen h1, #gameOverScreen h1 { font-size: 48px; }
      #introScreen p, #gameOverScreen p,
      #introScreen a, #gameOverScreen a { font-size: 18px; }
      #startBtn, #retryBtn { font-size: 24px; padding: 10px 20px; border-radius: 12px; }
    }
  </style>
</head>
<body>
  <div id="introScreen">
    <h1>â¤ï¸ ì½”ì¼“ë°°ì†¡ - íƒ€ìê²Œì„ ğŸšš</h1>
    <p>ìµœì´ˆ 11ê°œì˜ ëª©ìˆ¨ì´ë©°, ê° ë¼ìš´ë“œë¥¼ ë„˜ì„ ë•Œë§ˆë‹¤ 1ê°œ ëª©ìˆ¨ì´ ëŠ˜ì–´ë‚©ë‹ˆë‹¤.</p>
    <p>ë¼ìš´ë“œë³„ 40ì´ˆì…ë‹ˆë‹¤.</p>
    <p>ë¼ì´í”„ê°€ ëë‚˜ë©´ ê²Œì„ì€ ì¢…ë£Œë©ë‹ˆë‹¤.</p>
    <p>ìœ íŠœë¸Œ 'ê±¸ì½”_Gulko' ì €ì‘ê¶Œ ì½˜í…ì¸ ì…ë‹ˆë‹¤.</p>
    <p>Â© 2025 ì½”ì¼“ê²Œì„ì¦ˆ. All rights reserved.</p>
    <a href="https://www.youtube.com/@Gulko" target="_blank">https://www.youtube.com/@Gulko</a>
    <button id="startBtn">ê²Œì„ ì‹œì‘</button>
  </div>
  <div id="gameOverScreen" style="display:none;">
    <h1>ê²Œì„ ì˜¤ë²„! ğŸ˜¢</h1>
    <p>ì½”íŒ¡ êµ¬ì…ì€ ê±¸ì½”ì™€ í•¨ê»˜</p>
    <a href="https://www.youtube.com/@Gulko" target="_blank">https://www.youtube.com/@Gulko</a>
    <p>ì‚¬ë‘í•©ë‹ˆë‹¤. ê³ ê°ë‹˜</p>
    <button id="retryBtn">ë‹¤ì‹œ ì‹œì‘</button>
  </div>
  <div id="gameArea"></div>
  <div id="info">ë‚œì´ë„: 1 | ëª©ìˆ¨: 10 | ìŠ¤ì½”ì–´: 0 | ì‹œê°„: 00:00</div>
  <div id="levelUp"></div>
  <div id="inputArea">
    <form id="inputForm">
      <input type="text" id="userInput" placeholder="ë‹¨ì–´ ì…ë ¥..." autocomplete="off">
    </form>
  </div>

  <audio id="bgm" src="2.mp3" loop></audio>
  <audio id="wrongSound" src="1.mp3"></audio>
  <audio id="correctSound" src="4.mp3"></audio>
  <audio id="gameOverSound" src="3.mp3"></audio>
  <audio id="lifeLostSound" src="5.mp3"></audio>

  <script>
    const words = [
      "ë§ˆ","ì¥ë˜í¬ë§","ê±¸ì½”ê°€","ë§ìƒì´","ë¹µì´","ë¬¸ìˆ˜","ë‹ˆì¥ë˜í¬ë§ê±¸ì½”ê°€","ë¯¸ìŠ¤í„°ë¼ë–¼","ì‘¤ì•„ë¦¿","ì†Œë¦¬ì§ˆëŸ¿",
      "ì•„ì•„ìŒ”ìŒ”","ìƒ¤ë°”ë¼","í•¨ì¹˜ê³ ","ìƒê´€ì—†ì£ ","ë‹ˆ","ì•„ë¥´í—¨í‹°ë‚˜","ë‚´ê°€","ì˜ëª»í–ˆëŠ”ë°","ë‹ˆì¥¬ë””","ì‚¬ë‘í•©ë‹ˆë‹¤",
      "ê³ ê°ë‹˜","ê³ ê°ì€ì™•ì´ë‹¤","ì½”ì¼“ë°°ì†¡","ë§ˆì¬¬","ë‹ˆë‹ˆë‹ˆ","ì›íˆ¬ì›íˆ¬","ì°¡ê¸°ì","ë°”ë‹¤í•˜ëŠ˜ê±¸ì½”ê°€","ê¹Œë¥´ë ì—","ì–‘ì§„ì„±ì–‘ì§„ì„±",
      "ë¡¯ë°ì—¬ì‹ ","ê¿€ë°±ì‹ ","ì•„ì½”ë„ˆë§ˆë¼","ê¿€ë©ì–´ë¦¬ì€ì§„","ì•¼ì‹ ì•„ë‘","ë¡¯ë°ì—¬ì‹ ","ëŒ€ë‹¨í•˜ë„¤","ë§ˆì¹´ë¡±ì‹ í¬ë¡±","í•˜ë‚˜ë‹˜","ëˆˆì—ë¹„",
      "ê±°ì§“ì€ê±°ì§“ì„","ì´ì´ì£¼ë‹ˆ","ì½©ì–¸ë‹ˆ","ì§€ì•„","ë¸ë£¨ë‚˜","ë°”ë‹¤í•˜ëŠ˜","ëŒ€ë¦¬ì„","ì‹ ëš±","ë£©ì…ˆë¶€ë¥´í¬","ì´ì´ì£¼ë‹ˆ",
      "ì œë¡œë“œì—¬ì¹œ","ì—¬ìš¸","ê¹€íƒœì˜","ë•¡ì´ˆ","ì»¤í”¼","ê¹¨ë¹„","ì´ˆì½œë¦¿","ìˆœëŒ€êµ­ë°¥","ìƒí˜¸","ìœ ë¯¸ë°•",
      "ê±¸ì½”ì•„ì´ê°€","ì´ˆë¡","ì¥ë‚˜ë‹ˆ","ë´„ì´","ì‰¿ê³ í–¥","ì§€ì›","ì„±ì´ë¦„","ë…¹ìƒ‰","ì¢ë¦¬","ìƒ¤ìƒ¤",
      "ìŠ¤ë§ˆì¼","ì‚¬ê³¼í•˜ì","ë”ì˜ˆìœë ˆëª¬","ê¹€ì •ë¯¼","ë‚˜ë¦¬ì™€ëª¨ë€","ë¼ë¥´ê¸°","ê±¸ì½”ì¶©","ì½”ì¼“ê²Œì„ì¦ˆ","ê¼¬ë¼ì§€","ì©ì©",
      "ë”±ì§€ëƒ¥í†µìˆ˜","ì§‘ì°¾ê¸°","ë¹„ë¹„","ìˆœì‹œë¯¸","ë² ë¦¬","ì›…ì´ì•„ë¶€ì§€","ì†Œìœ ë‹ˆ","í¬ì •","ëŒ€ë¦¬ì„","ë½€ë½€",
      "ìˆ ë˜ì•¼","êµ¬ê¸€ì¥¬ì¥¬","ì•„ë‹ˆì•„ë‹ˆ","ë¶€ê¸°","ì£¼ë‹ˆí• ë§¤","ê¼¼ë°","ë²¼ë¦¬","ì‘ìê¸°ì†Œê°œ","ê¹€ì²œì–µ","ì°½ìë¦¬ë³¸"
    ];
    const gameArea = document.getElementById('gameArea');
    const info = document.getElementById('info');
    const levelUpEl = document.getElementById('levelUp');
    const intro = document.getElementById('introScreen');
    const over = document.getElementById('gameOverScreen');
    const bgm = document.getElementById('bgm');
    const wrongSound = document.getElementById('wrongSound');
    const correctSound = document.getElementById('correctSound');
    const gameOverSound = document.getElementById('gameOverSound');
    const lifeLostSound = document.getElementById('lifeLostSound');

    let userInput, currentWords = [], life = 10, level = 1, score = 0;
    let createInterval, timerInterval, levelTimeout, startTime;
    let isGameOver = false;
    const intervalDecrement = 30;
    let animationBase = 15000; // ì²« ë¼ìš´ë“œ 15ì´ˆ

    function formatTime(ms) {
      const s = Math.floor(ms / 1000);
      return `${String(Math.floor(s/60)).padStart(2,'0')}:${String(s%60).padStart(2,'0')}`;
    }

    function updateInfo() {
      info.textContent = `ë‚œì´ë„: ${level} | ëª©ìˆ¨: ${life} | ìŠ¤ì½”ì–´: ${score} | ì‹œê°„: ${formatTime(Date.now()-startTime)}`;
    }

    function playWrong() { wrongSound.currentTime=0; wrongSound.play(); }
    function playCorrect() { correctSound.currentTime=0; correctSound.play(); }
    function playLifeLost() { lifeLostSound.currentTime=0; lifeLostSound.play(); }
    function playGameOver() { gameOverSound.currentTime=0; gameOverSound.play(); }

    function showLevelUp(lv) {
      levelUpEl.textContent = `ë ˆë²¨ ${lv}`;
      levelUpEl.style.display='block'; life++; updateInfo();
      setTimeout(()=> levelUpEl.style.display='none',1500);
    }

    function createWord() {
      if(isGameOver) return;
      const text = words[Math.floor(Math.random()*words.length)];
      const lanes=6;
      const occupied=currentWords.map(w=>w.lane);
      const free=Array.from({length:lanes},(_,i)=>i).filter(i=>!occupied.includes(i));
      if(!free.length) return;
      const lane=free[Math.floor(Math.random()*free.length)];
      const el=document.createElement('div'); el.className='word';
      const y0=window.innerHeight*0.4, y1=window.innerHeight*0.8;
      el.style.top=`${y0 + (y1-y0)*(lane/(lanes-1))}px`;
      // ì˜¤ë¥¸ìª½ì—ì„œ ì‹œì‘
      el.style.left='100%';
      el.textContent=text; gameArea.appendChild(el);
      const dur=Math.max(1000,animationBase - (level-1)*500);
      el.style.animationDuration=`${dur}ms`;
      el.addEventListener('animationend',()=>{
        if(gameArea.contains(el)){
          gameArea.removeChild(el);
          currentWords=currentWords.filter(w=>w.el!==el);
          life--; playLifeLost(); updateInfo(); checkGameOver();
        }
      });
      currentWords.push({el,text,lane});
    }

    function showGameOver() {
      isGameOver=true; clearInterval(createInterval);clearInterval(timerInterval);clearTimeout(levelTimeout);
      currentWords.forEach(w=>w.el&&w.el.remove()); currentWords=[];
      ['gameArea','info','inputArea','levelUp'].forEach(id=>document.getElementById(id).style.visibility='hidden');
      bgm.pause();bgm.currentTime=0;playGameOver();over.style.display='flex';
    }

    function checkGameOver(){ if(life<=0) showGameOver(); }

    function startGame() {
      isGameOver=false; startTime=Date.now(); bgm.play(); updateInfo();
      timerInterval=setInterval(updateInfo,1000);
      (function nextLevel(){
        if(isGameOver) return; showLevelUp(level);
        createInterval=setInterval(createWord,Math.max(500,2000-level*intervalDecrement));
        levelTimeout=setTimeout(()=>{
          clearInterval(createInterval); currentWords.forEach(w=>w.el&&w.el.remove()); currentWords=[];
          level++; updateInfo(); nextLevel();
        },40000);
      })();
    }

    function bindInput(){
      userInput=document.getElementById('userInput');
      document.getElementById('inputForm').addEventListener('submit',e=>{
        e.preventDefault(); const val=userInput.value.trim(); if(!val) return;
        const idx=currentWords.findIndex(w=>w.text===val);
        if(idx>-1){ playCorrect(); const w=currentWords[idx]; w.el.remove(); currentWords.splice(idx,1); score++; updateInfo(); }
        else playWrong(); userInput.value='';
      });
    }

    window.addEventListener('DOMContentLoaded',()=>{
      bindInput();
      document.getElementById('startBtn').onclick=()=>{
        over.style.display='none'; intro.style.display='none';
        ['gameArea','info','inputArea','levelUp'].forEach(id=>document.getElementById(id).style.visibility='visible');
        life=10; level=1; score=0; animationBase=15000; updateInfo(); startGame();
      };
      document.getElementById('retryBtn').onclick=()=>{
        over.style.display='none'; clearInterval(createInterval);clearInterval(timerInterval);clearTimeout(levelTimeout);
        currentWords.forEach(w=>w.el&&w.el.remove()); gameArea.innerHTML=''; levelUpEl.style.display='none';
        life=10; level=1; score=0; animationBase=15000; ['gameArea','info','inputArea','levelUp'].forEach(id=>document.getElementById(id).style.visibility='visible');
        updateInfo(); startGame();
      };
    });
  </script>
</body>
</html>
